# Service

K8s에서 Service는 클라이언트의 요청을 파드에 전달하는 역할을 담당한다.
Service가 필요한 이유는 파드의 IP 주소가 기동할 때마다 바뀌기 때문이다. 때문에 클라이언트는 서비스가 가지는 대표 IP를 사용해서 접속해야 한다.

서비스의 특징
1. 로드벨런서의 역할을 가진다.
2. 클라이언트의 요청을 처리하기 위한 대표 IP를 가진다.
3. 서비스의 이름은 내부 DNS에 등록되기 때문에 클라이언트는 이름만으로 서비스의 IP 주소에 접근가능
4. 서비스는 `셀렉터(selector)`에 지정된 `라벨(Label)`과 일치하는 파드 중 하나에게 요청을 전달한다.
   - `라벨(Label)` :
       리소스(예: 파드, 노드, 서비스 등)에 부여되는 키-값 쌍으로 구성된 메타데이터입니다. 
       라벨은 리소스를 식별하고 그룹화하는 데 사용되며, 클러스터 내에서 리소스를 선택하고 구성하는 데 유용합니다.
   - `selector` :
       selector는 해당 서비스가 트래픽을 보낼 파드를 결정하는 데 중요한 역할을 합니다.
       Service는 일치하는 파드를 탐색하여 트래픽 로드 밸런싱, 서비스 디스커버리, 내부 DNS 이름 해석 등을 수행할 수 있습니다.

6. 기동된 파드의 컨테이너에는 서비스에 대한 정보가 담긴 환경 변수가 자동으로 설정된다.
7. 서비스에 네 종류의 서비스 타입이 있어 클라이언트 범위를 K8s 클러스터 내부로 한정할지 외부까지 확장할지, 또한 K8s 클러스터 외부의 IP주소에 전송할지 설정한다.
